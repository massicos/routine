<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Routine - Tests</title>
        <link rel="stylesheet" href="css/qunit.css">
        <script src="js/qunit.js"></script>
        <script src="../www/js/lib/jquery.min.js"></script>
        <script src="../www/js/itemRoutine.js"></script>
        <script src="../www/js/routine.js"></script>
        <script>
            var p = false;

            module("module A", {
                setup: function() {
                   p = new Routine("Léanne");
                },
                teardown: function() {
// clean up after each test 
                }
            });

            test("Routine constructeur", function() {
                equal(p.getPrenom(), "Léanne");
                p.setPrenom("Charles");
                equal(p.getPrenom(), "Charles");
            });

            test("Routine photo", function() {
            	equal(p.getPhoto(), false);

                p.setPhoto("images/photo1.jpg");
                equal(p.getPhoto(), "images/photo1.jpg");
            });

            test("Routine dateFinRoutine", function() {
            	equal(p.getDateFin(), false);
                var dateFin = new Date(1993, 06, 09, 21, 00);

                p.setDateFin(dateFin);
                equal(p.getDateFin(), dateFin);
            });

            test("Routine getNbrItemRoutine 0", function() {
            	equal(p.getNbrItemRoutine(), 0);
            });

            test("Routine getNbrItemRoutine 1", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	equal(p.getNbrItemRoutine(), 1);
            });

            test("Routine getNbrItemRoutine 2", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	equal(p.getNbrItemRoutine(), 2);
            });

            test("Routine getTotalTempsItemsRoutine 0", function() {
            	equal(p.getTotalTempsItemsRoutine(), 0);
            });

            test("Routine getTotalTempsItemsRoutine 1", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	equal(p.getTotalTempsItemsRoutine(), 15);
            });

            test("Routine getTotalTempsItemsRoutine 2", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	equal(p.getTotalTempsItemsRoutine(), 32);
            });

            test("Routine getTotalTempsItemsRoutineNonCompletes 0", function() {
            	equal(p.getTotalTempsItemsRoutineNonCompletes(), 0);
            });

            test("Routine getTotalTempsItemsRoutineNonCompletes 1", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	equal(p.getTotalTempsItemsRoutineNonCompletes(), 15);
            });

            test("Routine getTotalTempsItemsRoutineNonCompletes 2", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	equal(p.getTotalTempsItemsRoutineNonCompletes(), 32);
            });

            test("Routine getTotalTempsItemsRoutineNonCompletes 2-1", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	var itemRoutine = p.getItemRoutine(0);
            	itemRoutine.setStatut(statuts.FINI);
            	equal(p.getTotalTempsItemsRoutineNonCompletes(), 17);
            });

            test("Routine getTempsLibre", function() {
            	var dateFin = new Date(1993, 06, 09, 21, 00);
            	p.setDateFin(dateFin);
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	equal(p.getTempsLibreSecondes(new Date(1993, 06, 09, 20, 00)), 1680);
            });

            test("Routine getTempsLibre", function() {
            	var dateFin = new Date(1993, 06, 09, 21, 00);
            	p.setDateFin(dateFin);
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	equal(p.getTempsLibreSecondes(new Date(1993, 06, 09, 20, 08)), 1200);
            });

            test("Routine estEnCoursItemRoutine faux vide", function() {
            	equal(p.estEnCoursItemRoutine(), false);
            });
            
            test("Routine estEnCoursItemRoutine faux", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	equal(p.estEnCoursItemRoutine(), false);
            });
            
            test("Routine estEnCoursItemRoutine faux", function() {
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 0", "routinePerso/images/itemsRoutine/dejeuner.jpg", 15, 3));
            	p.addItemRoutine(new ItemRoutine("Texte de l'item 1", "routinePerso/images/itemsRoutine/dejeuner.jpg", 17, 3));
            	var itemRoutine = p.getItemRoutine(0);
            	itemRoutine.setStatut(statuts.EN_COURS);
            	equal(p.estEnCoursItemRoutine(), true);
            });                      

        </script>
    </head>
    <body>
        <div id="qunit"></div>
    </body>
</html>
